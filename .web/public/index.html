<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Serenify</title>
    <!-- Google Fonts Import -->
    <link
      href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap"
      rel="stylesheet"
    />
    <style>
      /* =====================================================
         1. CSS Custom Properties & Base Styles
      ===================================================== */
      :root {
        /* Light Mode Variables */
        --bg-color: #f4f4f9;               /* Page background */
        --text-color: #333;                /* Default text color */
        --primary-color: #1fbd41;          /* Teal accent */
        --secondary-color: #154d3f;        /* Dark slate accent */
        --accent-color: #e76f51;           /* Soft coral */
        --grid-color: #e0e0e0;
        --card-bg: #ffffff;                /* Card background */
        --card-shadow: 0 8px 16px rgba(0, 0, 0, 0.1);
        --transition-speed: 0.3s;
        --border-radius: 12px;
        --glass-bg: rgba(255, 255, 255, 0.75);
        /* Additional backgrounds */
        --main-bg: linear-gradient(135deg, rgba(255,255,255,0.95), rgba(255,255,255,0.98));
        --hero-bg: rgba(255,255,255,0.8);
        --hero-title-color: var(--secondary-color);
        --hero-text-color: #555;
        --wave-bg: url('data:image/svg+xml,%3Csvg width="800" height="400" viewBox="0 0 800 400" fill="none" xmlns="http://www.w3.org/2000/svg"%3E%3Cpath fill="%23ECF9F7" d="M0,128L80,160C160,192,320,256,480,240C640,224,800,128,800,128L800,0L0,0Z"%3E%3C/path%3E%3C/svg%3E') no-repeat center top;
      }
      body.dark-mode {
        /* Dark Mode Overrides */
        --bg-color: #141010;
        --text-color: #eee8e8;
        --grid-color: #1d1616;
        --card-bg: #2a2a2a;
        --glass-bg: rgba(42,42,42,0.85);
        --main-bg: linear-gradient(135deg, rgba(30,30,30,0.95), rgba(30,30,30,0.98));
        --hero-bg: rgba(42,42,42,0.8);
        --hero-title-color: #fff;
        --hero-text-color: #bbb;
        --wave-bg: none;
      }
      .resources-category {
    margin-bottom: 25px;
    padding: 20px;
    background: var(--card-bg);
    border-radius: var(--border-radius);
    box-shadow: var(--card-shadow);
  }
  .resources-category h3 {
    color: var(--primary-color);
    margin-bottom: 10px;
  }
  .resources-category ul {
    list-style: none;
    padding-left: 0;
  }
  .resources-category ul li {
    margin-bottom: 8px;
  }
  .resources-category ul li a {
    text-decoration: none;
    color: var(--secondary-color);
    font-weight: 500;
    transition: color 0.3s ease;
  }
  .resources-category ul li a:hover {
    color: var(--accent-color);
  }

      /* =====================================================
         2. Reset & Global Styles
      ===================================================== */
      * { margin: 0; padding: 0; box-sizing: border-box; }
      html { scroll-behavior: smooth; }
      body {
        font-family: 'Poppins', sans-serif;
        background-color: var(--bg-color);
        color: var(--text-color);
        line-height: 1.6;
        transition: background-color var(--transition-speed), color var(--transition-speed);
      }
      a { text-decoration: none; color: inherit; }
      ul { list-style: none; }
      button { cursor: pointer; border: none; background: none; }
      img { max-width: 100%; height: auto; }
      a:focus, button:focus, input:focus, select:focus, textarea:focus {
        outline: 2px dashed var(--primary-color);
        outline-offset: 2px;
      }

      /* =====================================================
         3. Header & Footer
      ===================================================== */
      header, footer {
        background: var(--card-bg);
        text-align: center;
        padding: 20px 40px;
        box-shadow: 0 4px 8px rgba(0,0,0,0.1);
        position: relative;
        transition: background-color var(--transition-speed);
      }
      header h1 {
        font-family: 'Trebuchet MS', 'Lucida Sans Unicode', 'Lucida Grande', 'Lucida Sans', Arial, sans-serif;
        font-weight: 700;
        font-size: 3.5rem;
        color: var(--primary-color);
        margin-bottom: 0;
        letter-spacing: 0.5cm;
        transition: color var(--transition-speed);
      }
      .dark-mode-toggle {
        position: absolute;
        top: 20px;
        right: 20px;
        background: var(--primary-color);
        color: #fff;
        padding: 10px 18px;
        border-radius: var(--border-radius);
        font-weight: 500;
        transition: background 0.3s, transform 0.3s;
      }
      .dark-mode-toggle:hover { background: #21867a; transform: translateY(-2px); }
      footer p { font-size: 0.9rem; }
 
       /* =====================================================
          About Section
      ===================================================== */
        .about-container {
    max-width: 800px;
    margin: 0 auto;
    text-align: center;
  }

  .about-section {
    background: var(--card-bg);
    padding: 20px;
    border-radius: var(--border-radius);
    box-shadow: var(--card-shadow);
    margin-bottom: 20px;
    text-align: left;
  }

  .about-section h3 {
    color: var(--primary-color);
    margin-bottom: 10px;
  }

  .about-list {
    list-style: none;
    padding-left: 0;
  }

  .about-list li {
    margin-bottom: 10px;
    font-size: 1rem;
  }

  .team-section {
    margin-top: 40px;
    text-align: center;
  }

  .team-grid {
    display: flex;
    justify-content: center;
    flex-wrap: wrap;
    gap: 20px;
    margin-top: 20px;
  }

  .team-member {
    background: var(--card-bg);
    padding: 15px;
    border-radius: var(--border-radius);
    box-shadow: var(--card-shadow);
    width: 150px;
    text-align: center;
  }

  .team-member .avatar {
    font-size: 40px;
    margin-bottom: 10px;
  }

  .team-member p {
    font-weight: bold;
  }

      /* =====================================================
         4. Sidebar Navigation
      ===================================================== */
      #sidebar, nav.sidebar {
        position: fixed;
        left: 0;
        top: 0;
        width: 240px;
        height: 100vh;
        background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
        color: #fff;
        padding: 30px 20px;
        box-shadow: 2px 0 12px rgba(0,0,0,0.15);
        overflow-y: auto;
      }
      #sidebar ul, nav.sidebar ul { padding: 0; }
      #sidebar ul li, nav.sidebar ul li { margin-bottom: 15px; }
      /* Home link added for returning to the landing page */
      #sidebar ul li.home a {
        font-size: 1.1rem;
        font-weight: 600;
        background: rgba(255,255,255,0.15);
        padding: 12px 15px;
        border-radius: var(--border-radius);
      }
      #sidebar ul li.home a:hover { background: rgba(255,255,255,0.25); }
      #sidebar ul li a, nav.sidebar ul li a {
        display: block;
        padding: 10px 15px;
        border-radius: 8px;
        transition: all 0.3s;
        color: #fff;
        font-weight: 500;
      }
      #sidebar ul li a:hover, nav.sidebar ul li a:hover { background: rgba(255,255,255,0.2); }

      /* =====================================================
         5. Main Content & Page Layout
      ===================================================== */
      main {
        margin-left: 260px;
        padding: 30px 40px;
        min-height: 100vh;
        background: var(--main-bg);
        transition: margin-left var(--transition-speed), background var(--transition-speed);
      }
      /* Each major area is a page-section */
      .page-section { display: none; margin-bottom: 2rem; }
      .page-section.active { display: block; }

      /* Landing Page */
      #landing-page .container {
        max-width: 1200px;
        width: 100%;
        margin: 0 auto;
        text-align: center;
        position: relative;
      }
      /* Wave background behind hero (light mode) */
      #landing-page .container::before {
        content: "";
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: var(--wave-bg);
        background-size: cover;
        opacity: 0.3;
        z-index: -1;
        transition: background var(--transition-speed), opacity var(--transition-speed);
      }
      #landing-page .hero {
        background: var(--hero-bg);
        padding: 60px 40px;
        border-radius: var(--border-radius);
        box-shadow: 0 6px 12px rgba(0,0,0,0.1);
        margin: 0 auto 2rem auto;
        max-width: 900px;
        position: relative;
        z-index: 1;
        animation: fadeInUp 0.8s ease forwards;
      }
      #landing-page .hero h2 {
        font-size: 2.5rem;
        margin-bottom: 15px;
        color: var(--hero-title-color);
        transition: color var(--transition-speed);
      }
      #landing-page .hero p {
        font-size: 1.2rem;
        margin-bottom: 30px;
        color: var(--hero-text-color);
        transition: color var(--transition-speed);
      }
      #landing-page .hero button {
        background: var(--primary-color);
        color: #fff;
        padding: 12px 28px;
        border-radius: var(--border-radius);
        font-size: 1rem;
        font-weight: 500;
        transition: background 0.3s, transform 0.3s;
      }
      #landing-page .hero button:hover {
        background: var(--grid-color);
        transform: translateY(-2px);
      }
      /* Optional Landing Page Cards */
      .sections {
        display: flex;
        justify-content: center;
        flex-wrap: wrap;
        gap: 20px;
        margin-top: 2rem;
      }
      .sections section {
        background: var(--card-bg);
        flex: 1 1 280px;
        padding: 20px;
        border-radius: var(--border-radius);
        box-shadow: var(--card-shadow);
        transition: transform 0.3s, background-color var(--transition-speed);
        animation: fadeInUp 0.8s ease forwards;
        animation-delay: 0.4s;
      }
      .sections section:hover { transform: translateY(-5px); }
      .sections section h3 {
        margin-bottom: 10px;
        color: var(--secondary-color);
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 8px;
      }
      .sections section p { color: var(--text-color); line-height: 1.5; }

      /* =====================================================
         6. Dashboard & Other Pages
      ===================================================== */
      .dashboard-section {
        background: var(--card-bg);
        padding: 30px;
        border-radius: var(--border-radius);
        box-shadow: var(--card-shadow);
        animation: fadeInUp 0.8s ease forwards;
        animation-delay: 0.6s;
        transition: background-color var(--transition-speed);
      }
      .dashboard-section h2 { margin-bottom: 15px; }

      /* =====================================================
         7. Chatbot Section & Widget (Unchanged)
      ===================================================== */
      #chat-container {
        max-width: 600px;
        margin: 20px auto;
        background: var(--card-bg);
        border-radius: var(--border-radius);
        box-shadow: var(--card-shadow);
        animation: fadeInUp 0.8s ease forwards;
        animation-delay: 0.8s;
        transition: background-color var(--transition-speed);
      }
      #chat-window {
        height: 600px;
        overflow-y: auto;
        padding: 10px;
        border-bottom: 1px solid var(--grid-color);
      }
      #chat-input {
        display: flex;
        padding: 10px;
      }
      #chat-input input {
        flex: 1;
        padding: 10px;
        font-size: 1rem;
        border: 1px solid var(--grid-color);
        border-radius: var(--border-radius);
        background-color: transparent;
        color: var(--text-color);
        transition: border-color var(--transition-speed);
      }
      #chat-input button {
        padding: 10px 20px;
        margin-left: 10px;
        background: var(--primary-color);
        color: #fff;
        border-radius: var(--border-radius);
        transition: background 0.3s, transform 0.3s;
      }
      #chat-input button:hover {
        background: #190d81;
        transform: translateY(-2px);
      }
      .chatbot-container {
        position: fixed;
        bottom: 20px;
        right: 20px;
        width: 300px;
        max-height: 400px;
        background-color: var(--card-bg);
        border: 1px solid var(--grid-color);
        border-radius: var(--border-radius);
        box-shadow: 0 4px 12px rgba(0,0,0,0.1);
        display: flex;
        flex-direction: column;
        overflow: hidden;
        z-index: 1000;
        transition: transform 0.3s ease, opacity 0.3s ease, background-color var(--transition-speed);
      }
      .chatbot-header {
        background-color: var(--primary-color);
        color: #fff;
        padding: 0.5rem;
        text-align: center;
        font-weight: 600;
        cursor: pointer;
        transition: background 0.3s ease;
      }
      .chatbot-body {
        flex: 1;
        padding: 0.5rem;
        overflow-y: auto;
        background-color: var(--bg-color);
        transition: background-color var(--transition-speed);
      }
      .chatbot-input-container {
        display: flex;
        border-top: 1px solid var(--grid-color);
      }
      .chatbot-input {
        flex: 1;
        border: none;
        padding: 0.6rem;
        font-size: 0.95rem;
        background-color: transparent;
        color: var(--text-color);
      }
      .chatbot-send-btn {
        background: var(--primary-color);
        color: #fff;
        border: none;
        padding: 0.6rem;
        cursor: pointer;
        font-size: 0.95rem;
        transition: background 0.2s;
      }
      .chat-message {
        margin-bottom: 0.5rem;
        padding: 0.5rem;
        border-radius: var(--border-radius);
        max-width: 80%;
        word-wrap: break-word;
      }
      .chat-message.chatbot-message {
        background: rgba(231,111,81,0.15);
      }
      .chat-message.user-message {
        background: rgba(42,157,143,0.15);
        align-self: flex-end;
      }

      /* =====================================================
         8. Journal Entries Styling
      ===================================================== */
      #journal { text-align: left; }
      #journal-entry {
        width: 100%;
        max-width: 600px;
        padding: 12px;
        font-size: 1rem;
        border: 2px solid var(--grid-color);
        border-radius: var(--border-radius);
        resize: vertical;
        margin-bottom: 1rem;
      }
      #journalList {
        max-width: 600px;
        margin: 0;
        text-align: left;
        padding-left: 0;
      }
      #journalList li {
        margin-bottom: 0.5rem;
        padding-left: 1.5rem;
        position: relative;
        text-align: left;
      }
      #journalList li::before {
        content: "‚Ä¢";
        position: absolute;
        left: 0;
        top: 0;
        color: var(--primary-color);
        font-size: 1.2rem;
        line-height: 1.2;
      }
      .settings-option {
    margin-bottom: 15px;
  }
  #support-message {
    width: 100%;
    height: 80px;
    padding: 10px;
    border: 1px solid var(--grid-color);
    border-radius: var(--border-radius);
    resize: vertical;
  }
  .settings-actions button {
    margin-right: 10px;
    padding: 10px;
    font-size: 1rem;
    border-radius: var(--border-radius);
    cursor: pointer;

  }
   /* Container for the toggle */
   .settings-option {
            display: flex;
            align-items: center;
            font-size: 18px;
        }

        /* Hide default checkbox appearance */
        .dark-mode-checkbox {
            display: none;
        }

        /* Style the label to look like a switch */
        .dark-mode-switch {
            position: relative;
            display: inline-block;
            width: 60px;
            height: 34px;
        }

        /* The slider */
        .dark-mode-switch:before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: #ccc;
            transition: 0.4s;
            border-radius: 50px;
        }

        /* The circle inside the switch */
        .dark-mode-switch:after {
            content: '';
            position: absolute;
            top: 4px;
            left: 4px;
            width: 26px;
            height: 26px;
            background-color: white;
            border-radius: 50%;
            transition: 0.4s;
        }

        /* When checkbox is checked, style the slider and circle */
        .dark-mode-checkbox:checked + .dark-mode-switch:before {
            background-color: #4CAF50; /* Green color when ON */
        }

        .dark-mode-checkbox:checked + .dark-mode-switch:after {
            transform: translateX(26px); /* Move the circle to the right */
        }

        /* Optional: Add some padding and margins */
        .settings-option label {
            margin-right: 10px;
        }

  .dashboard-widget {
  background: var(--card-bg);
  padding: 20px;
  border-radius: var(--border-radius);
  box-shadow: var(--card-shadow);
  margin-bottom: 20px;
}
.dashboard-widget h3 {
  font-size: 1.4rem;
  margin-bottom: 10px;
  color: var(--primary-color);
}
.help-btn {
  background: red;
  color: white;
  padding: 10px;
  border-radius: 5px;
  font-size: 1rem;
  width: 100%;
  text-align: center;
}
.help-btn:hover {
  background: darkred;
}
/* Styling for the buttons in the dashboard */
.btn {
  background-color: var(--primary-color);
  color: white;
  padding: 12px 20px;
  font-size: 16px;
  border-radius: var(--border-radius);
  margin: 10px 0;
  cursor: pointer;
  width: 100%;
  text-align: center;
  transition: background-color 0.3s;
}

.btn:hover {
  background-color: #192186;
}


.bot1-btn {
  background: var(--primary-color);
  color: white;
  padding: 10px;
  border-radius: 5px;
  font-size: 1rem;
  width: 100%;
  text-align: center;
}
.bot1-btn:hover {
  background: rgb(20, 23, 177);
}
/* Styling for the alert box */
.alert-box {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  background-color: #ffcc00;
  color: #fff;
  padding: 15px;
  font-size: 16px;
  text-align: center;
  z-index: 9999;
  box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);
  display: none; /* Initially hidden */
}

.alert-box button {
  background-color: #e76f51;
  color: white;
  border: none;
  padding: 8px 15px;
  cursor: pointer;
  font-size: 16px;
  border-radius: 5px;
}

.alert-box button:hover {
  background-color: #c28b15;
}
#landing-page .hero h2 {
  color: var(--primary-color);               /* Change this to your desired color */
  font-family: 'Roboto', sans-serif;  /* Change this to your desired font */
  font-size: 2.5em;             /* Adjust the size as needed */
  font-weight: bold;            /* Adjust the weight if necessary */
}




      /* =====================================================
         9. Utility & Animation
      ===================================================== */
      @keyframes fadeInUp {
        0% { opacity: 0; transform: translateY(20px); }
        100% { opacity: 1; transform: translateY(0); }
      }
      @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
      .fade-in { animation: fadeIn 0ms ease forwards; }
    </style>
  </head>
  <body>
    <!-- Header -->
    <header>
      <h1>SERENIFY</h1>
      <button class="dark-mode-toggle" id="toggle-dark-mode">Dark Mode</button>
    </header>

    <!-- Sidebar Navigation -->
    <nav id="sidebar">
      <ul>
        <li class="home"><a href="#" onclick="showPage('landing-page'); return false;">Home</a></li>
        <li><a href="#" onclick="showPage('dashboard'); return false;">Dashboard</a></li>
        <li><a href="#" onclick="showPage('chatbot'); return false;">AI Chatbot</a></li>
        <li><a href="#" onclick="showPage('sentiment-analysis'); return false;">Sentiment Analysis</a></li>
        <li><a href="#" onclick="showPage('risk-assessment'); return false;">Suicidal Risk Assessment</a></li>
        <li><a href="#" onclick="showPage('journal'); return false;">Journal Entries</a></li>
        <li><a href="#" onclick="showPage('resources-support'); return false;">Resources &amp; Support</a></li>
        <li><a href="#" onclick="showPage('settings'); return false;">Settings</a></li>
        <li><a href="#" onclick="showPage('about'); return false;">About</a></li>
      </ul>
    </nav>

    <!-- Main Content Area -->
    <main>
<!-- Landing Page (initially active) -->
<section id="landing-page" class="page-section active">
  <div class="container">
    <div class="hero">
      <h2>Welcome to <strong>Serenify</strong></h2>
      <p>Your journey to <strong>well-being</strong> starts here.</p>
      <button id="bot1-btn" onclick="showPage('dashboard')"><strong>Explore Now</strong></button>

      <br><br>
      <button id="bot1-btn" onclick="showPage('chatbot')">Talk to <strong>HealthBot+</strong></button>
    </div>
    <div class="sections" style="display: flex; justify-content: space-between; gap: 20px; flex-wrap: wrap;">
      <!-- HealthBot+ Section -->
      <section id="healthbot-landing" style="flex: 1; text-align: center; min-width: 250px;">
        <img src="clipart-healthbot.png" alt="HealthBot+ Clipart" style="width: 100px; height: auto; margin-bottom: 10px;">
        <h3><strong>HealthBot+</strong></h3>
        <p>
          Discover <strong>HealthBot+</strong>‚Äîyour personal assistant for mental health. Engage in insightful conversations and receive tailored guidance anytime you need support.
        </p>
      </section>

      <!-- Semantic Risk & Suicidal Analysis Section -->
      <section id="risk-analysis-landing" style="flex: 1; text-align: center; min-width: 250px;">
        <img src="clipart-risk-analysis.png" alt="Risk Analysis Clipart" style="width: 100px; height: auto; margin-bottom: 10px;">
        <h3><strong>Semantic Risk & Suicidal Analysis</strong></h3>
        <p>
          Leverage our advanced <strong>semantic analysis</strong> tools to assess risk factors. Get proactive insights to support early intervention and ensure your safety.
        </p>
      </section>

      <!-- Resources & Support Section -->
      <section id="resources-support-landing" style="flex: 1; text-align: center; min-width: 250px;">
        <img src="clipart-resources-support.png" alt="Resources & Support Clipart" style="width: 100px; height: auto; margin-bottom: 10px;">
        <h3><strong>Resources & Support</strong></h3>
        <p>
          Access a wealth of curated <strong>articles</strong>, <strong>self-help guides</strong>, and community support to empower your mental health journey.
        </p>
      </section>
    </div>
  </div>
</section>



      <!-- Chatbot Page -->
      <section id="chatbot" class="page-section">
        <h2>HealthBot+</h2>
        <div id="chat-container">
          <div id="chat-window">
            <!-- Chat messages will appear here -->
          </div>
          <div id="chat-input">
            <input type="text" id="user-message" placeholder="Type your message here..." />
            <button id="send-btn">Send</button>
          </div>
        </div>
      </section>

   <!-- Dashboard Page -->
<section id="dashboard" class="page-section dashboard-section">
  <h2>üìä Dashboard Overview</h2>
  <p>Monitor your mental well-being, track emotions, and access support tools.</p>


  <!-- Recent AI Chatbot Conversations -->
  <div class="dashboard-widget">
    <h3>üí¨ Recent AI Conversations</h3>
    <ul id="chatHistory">
    </ul>
    <button id="send-btn" class="bot1-btn" onclick="showPage('chatbot')"><strong>Continue Chat</strong></button>
  </div>

<!-- Suicidal Risk & Sentiment Overview as Buttons -->
<div class="dashboard-widget">
  <h3>‚ö†Ô∏è Risk & Sentiment Overview</h3>
  
  <!-- Button to go to Sentiment Analysis Page -->
  <button class="btn" onclick="showPage('sentiment-analysis')"><strong>Sentiment Analysis</strong></button>
  
  <!-- Button to go to Suicidal Risk Assessment Page -->
  <button class="btn" onclick="showPage('risk-assessment')"><strong>Suicidal Risk Assessment</strong></button>
</div>
  <!-- Self-Care Tips & Recommendations -->
  <div class="dashboard-widget">
    <h3>üí° Self-Care Tips</h3>
    <p id="selfCareTip">Fetching today's tip...</p>
  </div>

  <!-- Journal Quick Access -->
  <div class="dashboard-widget">
    <h3>üìñ Journal Quick Access</h3>
    <ul id="journalPreview">
      <!-- Recent journal entries will be inserted here -->
    </ul>
    <button class="bot1_btn" onclick="showPage('journal')"><strong> Go to Journal </strong> </button>
  </div>

  <!-- Emergency & Support Contacts -->
  <div class="dashboard-widget">
    <h3>üö® Emergency & Support</h3>
    <p>If you're feeling overwhelmed, reach out for support.</p>
    <button class="bot1-btn" onclick="showPage('chatbot')">Talk to Our Mental Health Bot</button>
    <button id="explore-btn" class="help-btn" ><strong>Check out Resources and Helplines</strong></button>
  </div>
</section>




      <!-- Sentiment Analysis Page -->
<section id="sentiment-analysis" class="page-section dashboard-section" style="width: 100%;">
  <h2>Sentiment Analysis</h2>
  <p>Insights based on your interactions:</p>
  
  <!-- Detected Emotion Display -->
  <div id="sentiment-result" style="margin-bottom: 10px;">
    Emotion: N/A
  </div>


  
  <!-- Heading for AI Explanation -->
  <h3 style="margin-bottom: 8px;">AI Explanation</h3>
  
  <!-- Large Text Area for AI Explanation -->
  <textarea
    id="analysisExplanation"
    readonly
    style="
      width: 100%;
      min-height: 300px;
      resize: vertical;
      font-size: 1rem;
      line-height: 1.4;
      padding: 12px;
      border: 1px solid #ddd;
      border-radius: 6px;
      background: #f9f9f9;
    "
  ></textarea>
</section>
      <!-- Risk Assessment Page -->
      <section id="risk-assessment" class="page-section dashboard-section">
        <h2>Suicidal Risk Assessment</h2>
        <p>An AI-powered assessment to help identify high-risk situations and connect you with crisis support.</p>
        <div id="risk-result">Risk: N/A</div>
      </section>



      <!-- Journal Page -->
      <section id="journal" class="page-section dashboard-section">
        <h2>Journal Entries</h2>
        <textarea id="journal-entry" placeholder="Write your thoughts here..."></textarea>
        <ul id="journalList"></ul>
      </section>

  <!-- Resources & Support Page -->
<section id="resources-support" class="page-section dashboard-section">
  <h2>üß† Mental Health Resources & Support</h2>
  <p>Find trusted resources, crisis helplines, and online support communities.</p>

  <!-- üîó Recommended Mental Health Websites -->
  <div class="resources-category">
    <h3>üåç Trusted Mental Health Organizations</h3>
    <ul>
      <li><a href="https://www.nami.org/Home" target="_blank">National Alliance on Mental Illness (NAMI)</a></li>
      <li><a href="https://www.mentalhealth.gov/" target="_blank">MentalHealth.gov</a></li>
      <li><a href="https://www.who.int/health-topics/mental-health" target="_blank">World Health Organization (WHO)</a></li>
      <li><a href="https://adaa.org/" target="_blank">Anxiety and Depression Association of America (ADAA)</a></li>
      <li><a href="https://www.mhanational.org/" target="_blank">Mental Health America (MHA)</a></li>
    </ul>
  </div>

  <!--  Popular Mental Health Forums -->
  <div class="resources-category">
    <h3>üó£Ô∏è Join Mental Health Forums</h3>
    <ul>
      <li><a href="https://www.reddit.com/r/mentalhealth/" target="_blank">Reddit - Mental Health Support</a></li>
      <li><a href="https://www.7cups.com/" target="_blank">7 Cups - Free Emotional Support Chat</a></li>
      <li><a href="https://www.suicideforum.com/" target="_blank">Suicide Forum - Safe Support Space</a></li>
      <li><a href="https://www.mentalhealthforum.net/" target="_blank">Mental Health Forum - Peer Support</a></li>
      <li><a href="https://www.psychforums.com/" target="_blank">Psych Forums - Mental Health Discussions</a></li>
    </ul>
  </div>

  <!-- Crisis Helplines -->
  <div class="resources-category">
    <h3>üöë Crisis Helplines</h3>
    <p>If you or someone you know is in crisis, please reach out to a helpline:</p>
    <ul>
      <li>üìû <strong>United States:</strong> <a href="tel:988">988 Suicide & Crisis Lifeline</a></li>
      <li>üìû <strong>United Kingdom:</strong> <a href="tel:116123">Samaritans - 116 123</a></li>
      <li>üìû <strong>Canada:</strong> <a href="tel:988">Talk Suicide Canada - 988</a></li>
      <li>üìû <strong>Australia:</strong> <a href="tel:131114">Lifeline - 13 11 14</a></li>
      <li>üìû <strong>India:</strong> <a href="tel:9152987821">Vandrevala Foundation - 1860 266 2345</a></li>
      <li>üåé <a href="https://findahelpline.com/" target="_blank">Find More Global Helplines</a></li>
    </ul>
  </div>

  <!--  Self-Help Guides & Tools -->
  <div class="resources-category">
    <h3>üìö Self-Help Guides & Tools</h3>
    <ul>
      <li><a href="https://www.psychologytools.com/self-help/" target="_blank">Psychology Tools - Free Self-Help PDFs</a></li>
      <li><a href="https://www.helpguide.org/" target="_blank">HelpGuide - Mental Health Articles</a></li>
      <li><a href="https://www.calm.com/" target="_blank">Calm - Guided Meditation & Sleep</a></li>
      <li><a href="https://www.headspace.com/" target="_blank">Headspace - Mindfulness & Relaxation</a></li>
      <li><a href="https://www.betterhelp.com/" target="_blank">BetterHelp - Online Therapy</a></li>
    </ul>
  </div>

  <!--  Mental Health Apps -->
  <div class="resources-category">
    <h3>üì± Mental Health Apps</h3>
    <ul>
      <li><a href="https://play.google.com/store/apps/details?id=com.calm.android" target="_blank">Calm (Android)</a> / <a href="https://apps.apple.com/us/app/calm/id571800810" target="_blank">Calm (iOS)</a></li>
      <li><a href="https://play.google.com/store/apps/details?id=com.getsomeheadspace.android" target="_blank">Headspace (Android)</a> / <a href="https://apps.apple.com/us/app/headspace/id493145008" target="_blank">Headspace (iOS)</a></li>
      <li><a href="https://play.google.com/store/apps/details?id=au.com.sanvello" target="_blank">Sanvello - Stress & Anxiety Help</a></li>
    </ul>
  </div>

</section>

      <!-- Settings Page -->
<section id="settings" class="page-section dashboard-section">
  <h2>Settings</h2>
  <h3>Customize your experience with these options:</h3>
  <br>

  <!-- Dark Mode Toggle -->
  <div class="settings-option">
    <label for="dark-mode-toggle">Toggle Dark Mode:</label>
    <input type="checkbox" class="dark-mode-checkbox" id="dark-mode-toggle">
    <label for="dark-mode-toggle" class="dark-mode-switch"></label>
</div>

  <!-- Theme Customization -->
  <div class="settings-option">
    <label for="theme-selector">Website Theme Color:</label>
    <select id="theme-selector">
      <option value="#2A9D8F">Teal</option>
      <option value="#264653">Dark Slate</option>
      <option value="#E76F51">Soft Coral</option>
      <option value="#1E88E5">Blue</option>
      <option value="#8E44AD">Purple</option>
    </select>
  </div>

  <!-- Text & Font Customization -->
  <div class="settings-option">
    <label for="text-size">Text Size:</label>
    <input type="range" id="text-size" min="12" max="24" value="16">
    <span id="text-size-value">16px</span>
  </div>

  <div class="settings-option">
    <label for="font-selector">Font Style:</label>
    <select id="font-selector">
      <option value="Poppins, sans-serif">Poppins</option>
      <option value="Arial, sans-serif">Arial</option>
      <option value="Georgia, serif">Georgia</option>
      <option value="Courier New, monospace">Courier New</option>
    </select>
  </div>




<!-- About Page -->
<section id="about" class="page-section dashboard-section">
  <div class="about-container">
    <h2> <strong>About GreenX</strong></h2>
    <p>
      Welcome to <strong>GreenX</strong> ‚Äì a platform dedicated to <strong>mental well-being</strong> and <strong>support</strong>.  
      Our mission is to provide a <strong>safe space</strong> where individuals can find <strong>resources, guidance, and AI-powered support</strong> for their mental health journey.
    </p>
    
    <div class="about-section mission">
      <h3>üöÄ <strong>Our Mission</strong></h3>
      <p>
        We believe that <strong>mental health matters</strong> just as much as physical health.  
        GreenX is here to <strong>empower individuals</strong>, break mental health stigma,  
        and offer <strong>instant emotional support</strong> when needed.
      </p>
    </div>
    


    <div class="about-section">
      <h3> <strong>What We Offer</strong></h3>
      <ul class="about-list">
        <li>ü§ñ <strong>AI Chatbot</strong> ‚Äì A caring AI for emotional support and wellbeing tips.</li>
        <li>üìä <strong>Sentiment Analysis</strong> ‚Äì AI-based detection of emotions in conversations.</li>
        <li>üö® <strong>Suicide Risk Assessment</strong> ‚Äì Identifies potential signs of distress.</li>
        <li>üìö <strong>Resource Hub</strong> ‚Äì Forums, crisis helplines, and self-help guides.</li>
        <li>üìì <strong>Journaling Feature</strong> ‚Äì A digital diary for users to track emotions.</li>
      </ul>
    </div>

    <div class="about-section">
      <h3>üí° <strong>Why GreenX?</strong></h3>
      <p>
        Unlike generic chatbots, <strong>GreenX understands your emotions</strong>,  
        offers <strong>real-time sentiment analysis</strong>, and connects you with the right support.
      </p>
      
    </div>

    <div class="team-section">
      <h3> <strong>Meet Our Team</strong></h3>
      <p><strong>Group Name:</strong> GreenX</p>
      <p><strong>School:</strong> The City School International</p>
      
      <div class="team-list">
        <p><strong>Ali Affan Virk</strong></p>
        <p><strong>Hassaan Rashid</strong></p>
        <p><strong>Muhammad Junaid</strong></p>
        <p><strong>Kashan Qureshi</strong></p>
        <p><strong>Ziyab Nauman</strong></p>
      </div>
    </div>
  </div>
</section>

<!-- Suicidal Risk Alert Box -->
<div id="suicide-risk-alert" class="alert-box" style="display: none;">
  <p><strong>‚ö†Ô∏è Suicidal Risk Detected!</strong> Please seek immediate help from a professional.</p>
  <button onclick="showPage('sentiment-analysis'); closeAlert()">Close</button>
</div>

   <!-- Footer -->
<footer>
  <p>
      <!-- Mailto link for contact -->
      Contact: <a href="mailto:support@mentalhealthsupport.com">support@mentalhealthsupport.com</a> |
      
      <!-- Privacy Policy link (add your URL here) -->
      <a href="your-privacy-policy-link.html" target="_blank">Privacy Policy</a> |
      
      <!-- Quick Links (add your URL here) -->
      <a href="your-quick-links-page.html" target="_blank">Quick Links</a>
  </p>
  <p>All rights reserved &copy; 2025</p>
</footer>

    <script>
      // Function to show one page and hide all others
      function showPage(pageId) {
        const pages = document.querySelectorAll('.page-section');
        pages.forEach(page => page.classList.remove('active'));
        const target = document.getElementById(pageId);
        if (target) {
          target.classList.add('active');
          window.scrollTo(0, 0);
        }
      }

      // Dark mode toggle
      const toggleDarkMode = document.getElementById("toggle-dark-mode");
      toggleDarkMode.addEventListener("click", () => {
        document.body.classList.toggle("dark-mode");
        toggleDarkMode.textContent = document.body.classList.contains("dark-mode")
          ? "Light Mode"
          : "Dark Mode";
      });

      // Handle Explore button on landing page
      document.getElementById("explore-btn").addEventListener("click", () => {
        showPage("resources-support");
      });

      // Chatbot functionality
      document.getElementById("send-btn").addEventListener("click", sendMessage);
      document.getElementById("user-message").addEventListener("keypress", (e) => {
        if (e.key === "Enter") { sendMessage(); }
      });
      function sendMessage() {
        const inputField = document.getElementById("user-message");
        const message = inputField.value.trim();
        if (!message) return;
        addChatMessage("You", message);
        inputField.value = "";
        // Call Node's chatbot endpoint for main reply
        getBotResponse(message);
        // Call Node's analysis endpoint for emotion and risk detection, then get AI explanation
        getAnalysisResponse(message);
      }
      function addChatMessage(sender, message) {
        const chatWindow = document.getElementById("chat-window");
        const messageElem = document.createElement("div");
        messageElem.className = "chat-message";
        messageElem.innerHTML = `<strong>${sender}:</strong> ${message}`;
        chatWindow.appendChild(messageElem);
        chatWindow.scrollTop = chatWindow.scrollHeight;
      }
      function removeLastBotMessage() {
        const chatWindow = document.getElementById("chat-window");
        const messages = chatWindow.getElementsByClassName("chat-message");
        if (messages.length > 0) {
          const lastMessage = messages[messages.length - 1];
          if (lastMessage.innerHTML.startsWith("<strong>Bot:</strong> ...")) {
            chatWindow.removeChild(lastMessage);
          }
        }
      }
      function getBotResponse(userMessage) {
        addChatMessage("HealthBot+", "Typing...");
        fetch("http://127.0.0.1:4000/chatbot", {
          method: "POST",
          headers: { "Content-Type": "application/json" },
          body: JSON.stringify({ prompt: userMessage })
        })
          .then(response => response.json())
          .then(data => {
            removeLastBotMessage();
            if (data.response) {
              addChatMessage("HealthBot+", data.response);
            } else {
              addChatMessage("HealthBot+", "I'm sorry, something went wrong. Please try again.");
            }
          })
          .catch(error => {
            removeLastBotMessage();
            addChatMessage("HealthBot+", "Error: " + error.message);
            console.error("Chatbot Error:", error);
          });
      }
      // Analysis functionality: Call /analyze and then build a meta prompt for AI explanation
      function getAnalysisResponse(userMessage) {
        fetch("http://127.0.0.1:4000/analyze", {
          method: "POST",
          headers: { "Content-Type": "application/json" },
          body: JSON.stringify({ message: userMessage })
        })
          .then(response => response.json())
          .then(data => {
            // Update analysis results with the detected emotion and suicidal risk
            document.getElementById("sentiment-result").innerText =
              `Emotion: ${data.emotion}`;
            if (data.suicide_risk) {
              document.getElementById("risk-result").innerText = "Alert: Suicidal risk detected!";
              document.getElementById("risk-result").style.color = "red";
            } else {
              document.getElementById("risk-result").innerText = "No suicidal risk detected.";
              document.getElementById("risk-result").style.color = "green";
            }
            // Build a meta prompt using analysis data
            const metaPrompt = `
User Message: "${userMessage}"
Detected Emotion: ${data.emotion}.
Suicidal Risk: ${data.suicide_risk ? 'Detected' : 'Not detected'}.
Please provide a empathetic explanation of these results along with supportive advice, if the user emotion is something not positive then give a list of many acitivites to do to cheer yourself up depending on the emotion. remove any * from the text make it user friendly add emojis and all u can exceed the limit of 80 words, i want a very detialed answer from you describing each activity in detail, listed properly. 
            `;
            // Call the chatbot endpoint with the meta prompt
            return fetch("http://127.0.0.1:4000/chatbot", {
              method: "POST",
              headers: { "Content-Type": "application/json" },
              body: JSON.stringify({ prompt: metaPrompt })
            });
          })
          .then(res => res.json())
          .then(analysisBotData => {
            if (analysisBotData.response) {
              document.getElementById("analysisExplanation").value = analysisBotData.response;
            } else {
              document.getElementById("analysisExplanation").value = "No explanation available.";
            }
          })
          .catch(error => {
            console.error("Analysis Error:", error);
            document.getElementById("analysisExplanation").value = "Error retrieving explanation: " + error.message;
          });
      }

      /* ============================
         Journal Entries Functionality
      ============================ */
      const journalTextarea = document.getElementById("journal-entry");
      const journalList = document.getElementById("journalList");

      // Load saved journal entries from local storage on page load
      window.addEventListener("DOMContentLoaded", () => {
        const savedEntries = JSON.parse(localStorage.getItem("journalEntries") || "[]");
        savedEntries.forEach(entry => addJournalListItem(entry));
      });

      // Listen for Enter key in the journal textarea (without Shift)
      journalTextarea.addEventListener("keydown", function(e) {
        if (e.key === "Enter" && !e.shiftKey) {
          e.preventDefault();
          const text = journalTextarea.value.trim();
          if (text !== "") {
            saveJournalEntry(text);
            journalTextarea.value = "";
          }
        }
      });

      function saveJournalEntry(entry) {
        let entries = JSON.parse(localStorage.getItem("journalEntries") || "[]");
        entries.unshift(entry);
        localStorage.setItem("journalEntries", JSON.stringify(entries));
        addJournalListItem(entry);
      }

      function addJournalListItem(entry) {
        const li = document.createElement("li");
        li.textContent = entry;
        journalList.insertBefore(li, journalList.firstChild);
      }
      
      document.addEventListener("DOMContentLoaded", () => {
    // Dark Mode Toggle
    const darkModeToggle = document.getElementById("dark-mode-toggle");
    darkModeToggle.addEventListener("click", () => {
      document.body.classList.toggle("dark-mode");
      const isDark = document.body.classList.contains("dark-mode");
      localStorage.setItem("darkMode", isDark);
      darkModeToggle.textContent = isDark ? "Disable" : "Enable";
    });
    if (localStorage.getItem("darkMode") === "true") {
      document.body.classList.add("dark-mode");
      darkModeToggle.textContent = "Disable";
    }

    const themeSelector = document.getElementById("theme-selector");
    themeSelector.addEventListener("change", (e) => {
      document.documentElement.style.setProperty("--primary-color", e.target.value);
      localStorage.setItem("themeColor", e.target.value);
    });
    if (localStorage.getItem("themeColor")) {
      document.documentElement.style.setProperty("--primary-color", localStorage.getItem("themeColor"));
      themeSelector.value = localStorage.getItem("themeColor");
    }

    const textSizeInput = document.getElementById("text-size");
    const textSizeValue = document.getElementById("text-size-value");
    textSizeInput.addEventListener("input", (e) => {
      document.body.style.fontSize = `${e.target.value}px`;
      textSizeValue.textContent = `${e.target.value}px`;
      localStorage.setItem("textSize", e.target.value);
    });
    if (localStorage.getItem("textSize")) {
      document.body.style.fontSize = `${localStorage.getItem("textSize")}px`;
      textSizeInput.value = localStorage.getItem("textSize");
      textSizeValue.textContent = `${localStorage.getItem("textSize")}px`;
    }

    const fontSelector = document.getElementById("font-selector");
    fontSelector.addEventListener("change", (e) => {
      document.body.style.fontFamily = e.target.value;
      localStorage.setItem("fontStyle", e.target.value);
    });
    if (localStorage.getItem("fontStyle")) {
      document.body.style.fontFamily = localStorage.getItem("fontStyle");
      fontSelector.value = localStorage.getItem("fontStyle");
    }

    document.getElementById("send-support").addEventListener("click", () => {
      const message = document.getElementById("support-message").value.trim();
      if (message === "") {
        alert("Please enter your message before sending.");
        return;
      }
      alert("Support message sent! Our team will get back to you.");
      document.getElementById("support-message").value = "";
    });


    document.getElementById("logout-btn").addEventListener("click", () => {
      alert("You have been logged out.");
      window.location.href = "/";  // Redirect to home/login page
    });

  
    document.getElementById("close-btn").addEventListener("click", () => {
      window.close();
    });
  });
  document.addEventListener("DOMContentLoaded", () => {
  // Fetch AI Sentiment Analysis & Risk Level
  fetch("http://127.0.0.1:4000/analyze", {
    method: "POST",
    headers: { "Content-Type": "application/json" },
    body: JSON.stringify({ message: "User Dashboard Check-in" }),
  })
    .then((response) => response.json())
    .then((data) => {
      document.getElementById("currentEmotion").innerText = data.emotion || "N/A";
      document.getElementById("riskLevel").innerText = data.suicide_risk ? "High" : "Low";
      document.getElementById("suggestedResources").innerText = data.suicide_risk
        ? "Consider reaching out to a professional or crisis helpline."
        : "You're doing great! Keep up your self-care routine.";
    })
    .catch((error) => console.error("Error fetching analysis:", error));

  // Fetch Self-Care Tip from AI
  fetch("http://127.0.0.1:000/chatbot", {
    method: "POST",
    headers: { "Content-Type": "application/json" },
    body: JSON.stringify({ prompt: "Give me a mental wellness tip" }),
  })
    .then((response) => response.json())
    .then((data) => {
      document.getElementById("selfCareTip").innerText = data.response || "Stay positive!";
    })
    .catch((error) => console.error("Error fetching self-care tip:", error));

    document.addEventListener("DOMContentLoaded", () => {
  const ctx = document.getElementById("moodChart").getContext("2d");

  // Ensure the graph loads only after canvas is visible
  setTimeout(() => {
    new Chart(ctx, {
      type: "line",
      data: {
        labels: ["Mon", "Tue", "Wed", "Thu", "Fri", "Sat", "Sun"],
        datasets: [
          {
            label: "Mood Score",
            data: [3, 4, 2, 5, 4, 3, 5],
            backgroundColor: "rgba(42, 157, 143, 0.2)",
            borderColor: "rgba(42, 157, 143, 1)",
            borderWidth: 2,
          },
        ],
      },
      options: {
        responsive: true,
        maintainAspectRatio: false,
        scales: {
          y: { beginAtZero: true, max: 5 },
        },
      },
    });
  }, 300);
});


  // Load Recent Chatbot Conversations (Dummy Data for Now)
  const chatHistory = [
    { text: "How are you feeling today?", emotion: "Neutral" },
    { text: "I'm here if you need to talk.", emotion: "Supportive" },
  ];
  const chatList = document.getElementById("chatHistory");
  chatHistory.forEach((chat) => {
    const li = document.createElement("li");
    li.innerHTML = `<strong>${chat.emotion}:</strong> ${chat.text}`;
    chatList.appendChild(li);
  });

  // Load Journal Entries (From Local Storage)
  const savedEntries = JSON.parse(localStorage.getItem("journalEntries") || "[]");
  const journalPreview = document.getElementById("journalPreview");
  savedEntries.slice(0, 3).forEach((entry) => {
    const li = document.createElement("li");
    li.textContent = entry;
    journalPreview.appendChild(li);
  });
});
function getAnalysisResponse(userMessage) {
    fetch("http://127.0.0.1:4000/analyze", {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify({ message: userMessage })
    })
    .then(response => response.json())
    .then(data => {
        // Update analysis results with the detected emotion and suicidal risk
        document.getElementById("sentiment-result").innerText =
            `Emotion: ${data.emotion}`;

        if (data.suicide_risk) {
            document.getElementById("risk-result").innerText = "Alert: Suicidal risk detected!";
            document.getElementById("risk-result").style.color = "red";

            // Show alert box if suicidal risk is detected
            document.getElementById("suicide-risk-alert").style.display = 'block'; // Show alert
        } else {
            document.getElementById("risk-result").innerText = "No suicidal risk detected.";
            document.getElementById("risk-result").style.color = "green";
        }

        // Build a meta prompt using analysis data
        const metaPrompt = `
User Message: "${userMessage}"
Detected Emotion: ${data.emotion}.
Suicidal Risk: ${data.suicide_risk ? 'Detected' : 'Not detected'}.
Please provide a empathetic explanation of these results along with supportive advice, if the user emotion is something not positive then give a list of many activities to do to cheer yourself up depending on the emotion. remove any * from the text make it user friendly add emojis and all u can exceed the limit of 80 words, i want a very detialed answer from you describing each activity in detail, listed properly. 
        `;

        // Call the chatbot endpoint with the meta prompt
        return fetch("http://127.0.0.1:4000/chatbot", {
            method: "POST",
            headers: { "Content-Type": "application/json" },
            body: JSON.stringify({ prompt: metaPrompt })
        });
    })
    .then(res => res.json())
    .then(analysisBotData => {
        if (analysisBotData.response) {
            document.getElementById("analysisExplanation").value = analysisBotData.response;
        } else {
            document.getElementById("analysisExplanation").value = "No explanation available.";
        }
    })
    .catch(error => {
        console.error("Analysis Error:", error);
        document.getElementById("analysisExplanation").value = "Error retrieving explanation: " + error.message;
    });
}

// Function to close the alert box
function closeAlert() {
    document.getElementById("suicide-risk-alert").style.display = 'none'; // Hide alert
}

    
    </script>
  </body>
</html>
